<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Tetrahedron</title>
<style>
  body { margin: 0; overflow: hidden; }
  canvas { display: block; }
  #coords { position: absolute; top: 10px; left: 10px; color: black; font-family: sans-serif; }
</style>
</head>
<body>
<div id="coords">Point: 0.0, 0.0, 0.0</div>

<!-- Three.js á³áë³îòåêà -->
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/examples/js/controls/OrbitControls.js"></script>
<script>
let scene = new THREE.Scene();
scene.background = new THREE.Color(0xffffff);

let camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 100);
camera.position.set(0, 0, 8);

let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Êîíòðîëü îáåðòàííÿ ìèøåþ
let controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.dampingFactor = 0.05;

// Âåðøèíè òåòðàåäðà
let vertices = {
  IQ: new THREE.Vector3(1, 1, 1),
  EQ: new THREE.Vector3(-1, -1, 1),
  Vygliad: new THREE.Vector3(-1, 1, -1),
  Uspishnist: new THREE.Vector3(1, -1, -1)
};

// Ãåîìåòð³ÿ òà ë³í³¿ òåòðàåäðà
let geom = new THREE.BufferGeometry();
geom.setFromPoints(Object.values(vertices));
let indices = [
  0,1,2,
  0,1,3,
  0,2,3,
  1,2,3
];
geom.setIndex(indices);
geom.computeVertexNormals();

let material = new THREE.MeshBasicMaterial({color:0x000000, wireframe:true});
let tetra = new THREE.Mesh(geom, material);
scene.add(tetra);

// Äîäàòêîâî ïîêàæåìî âåðøèíè ÿê ìàëåíüê³ ñôåðè
let pointMaterial = new THREE.MeshBasicMaterial({color:0x0000ff});
for (let key in vertices){
  let sphere = new THREE.Mesh(new THREE.SphereGeometry(0.05,16,16), pointMaterial);
  sphere.position.copy(vertices[key]);
  scene.add(sphere);
}

// ×åðâîíà òî÷êà
let redPointMat = new THREE.MeshBasicMaterial({color:0xff0000});
let redPointGeom = new THREE.SphereGeometry(0.08,16,16);
let redPoint = new THREE.Mesh(redPointGeom, redPointMat);
let saved = localStorage.getItem("selectedPoint");
if (saved){
  let coords = saved.split(",").map(Number);
  redPoint.position.set(coords[0], coords[1], coords[2]);
} else {
  redPoint.position.set(0,0,0);
}
scene.add(redPoint);

// Ï³äïèñ âåðøèíè ÷åðåç CanvasSprite
function makeLabel(text, position){
  let canvas = document.createElement('canvas');
  canvas.width = 128; canvas.height = 32;
  let ctx = canvas.getContext('2d');
  ctx.fillStyle = "black"; ctx.font = "20px sans-serif";
  ctx.fillText(text, 0, 20);
  let texture = new THREE.CanvasTexture(canvas);
  let spriteMat = new
